(function(t){function e(e){for(var s,o,r=e[0],l=e[1],c=e[2],d=0,m=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&m.push(i[o][0]),i[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(e);while(m.length)m.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,r=1;r<a.length;r++){var l=a[r];0!==i[l]&&(s=!1)}s&&(n.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},i={app:0},n=[];function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;n.push([1,"chunk-vendors"]),a()})({0:function(t,e){},"034f":function(t,e,a){"use strict";var s=a("85ec"),i=a.n(s);i.a},1:function(t,e,a){t.exports=a("56d7")},2:function(t,e){},"243e":function(t,e,a){},3:function(t,e){},3186:function(t,e,a){"use strict";var s=a("4758"),i=a.n(s);i.a},"3cec":function(t,e,a){},4:function(t,e){},4758:function(t,e,a){},4812:function(t,e,a){"use strict";var s=a("3cec"),i=a.n(s);i.a},"4c84":function(t,e,a){"use strict";var s=a("c5a1"),i=a.n(s);i.a},"4e01":function(t,e,a){"use strict";var s=a("70b6"),i=a.n(s);i.a},"4e95":function(t,e,a){"use strict";var s=a("f446"),i=a.n(s);i.a},"4ed5":function(t,e,a){"use strict";var s=a("a4b9"),i=a.n(s);i.a},"555d":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},n=[],o={name:"App",mounted:function(){this.$q.loadingBar.setDefaults({color:"teal"})}},r=o,l=(a("034f"),a("2877")),c=Object(l["a"])(r,i,n,!1,null,null,null),u=c.exports,d=(a("a4ac"),a("5c7d"),a("7d6e"),a("e54f"),a("573e"),a("35fc"),a("1867"),a("43b9"),a("b178"));s["a"].use(d["a"],{config:{}});a("b0c0");var m=a("8c4f"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"all-center bg-blue-grey-10"},[a("q-card",{staticClass:"q-py-lg q-px-xl column items-center own-card bg-white"},[a("h4",{staticClass:"q-mb-lg"},[t._v("Login")]),a("q-input",{ref:"user",staticClass:"q-mb-sm own-input",attrs:{label:"Email o usuario",color:"secondary",outlined:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.enter(e)}},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"mail"}})]},proxy:!0}]),model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),a("q-input",{ref:"pass",staticClass:"q-mb-lg own-input",attrs:{type:"password",label:"Password",color:"secondary",outlined:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.enter(e)}},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"vpn_key"}})]},proxy:!0}]),model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("q-btn",{staticClass:"own-button",attrs:{color:"teal"},on:{click:t.login}},[t._v("Ingresar")])],1)],1)},h=[],f="http://172.16.20.7:5000/api",g="http://172.16.20.7:5000",v={name:"Login",data:function(){return{username:"",password:""}},mounted:function(){},methods:{login:function(){var t=this;this.axios.post("".concat(f,"/login"),{username:this.username,password:this.password}).then((function(e){e.data.status?(localStorage.setItem("access_token",e.data.access_token),localStorage.setItem("entity_prefix",e.data.entity_prefix),t.$router.push({name:"Dashboard"})):t.$q.notify({position:"top",color:"negative",message:"Usuario o contraseña incorrectos!",timeout:2e3})}))},enter:function(){0==this.username.length?this.$refs.user.focus():0==this.password.length?this.$refs.pass.focus():this.login()}}},b=v,C=(a("4e95"),Object(l["a"])(b,p,h,!1,null,"5eb689f0",null)),_=C.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard"},[a("div",{staticClass:"row"},[a("q-input",{attrs:{color:"teal",filled:"",dark:"",dense:"",disable:t.disableFilterDate,readonly:""},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{ref:"popupProxyRef",attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{mask:"DD/MM/YYYY",color:"teal",locale:t.locale,"today-btn":"",minimal:"",dark:""},on:{input:t.onChangeDate},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1)]},proxy:!0}]),model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),a("div",{staticClass:"row q-mt-lg justify-center"},[a("div",{staticClass:"column items-center q-mr-xl"},[a("div",{staticClass:"text-white q-mb-md"},[t._v("LLamadas totales")]),a("q-circular-progress",{staticClass:"text-white",attrs:{"show-value":"",value:t.totalCalls.amount,size:"100px",color:"secondary",thickness:.2,"center-color":"grey-10","track-color":"grey-3",max:t.totalCalls.max,indeterminate:t.totalCalls.loading}})],1),a("div",{staticClass:"column items-center q-mr-xl"},[a("div",{staticClass:"text-white q-mb-md"},[t._v("Clientes llamados")]),a("q-circular-progress",{staticClass:"text-white",attrs:{"show-value":"",value:t.calledClients.amount,size:"100px",color:"secondary",thickness:.2,"center-color":"grey-10","track-color":"grey-3",max:t.calledClients.max,indeterminate:t.calledClients.loading}})],1),a("div",{staticClass:"column items-center q-mr-xl"},[a("div",{staticClass:"text-white q-mb-md"},[t._v("Total de contactados")]),a("q-circular-progress",{staticClass:"text-white",attrs:{"show-value":"",value:t.contactedClients.amount,size:"100px",color:"primary",thickness:.2,"center-color":"grey-10","track-color":"grey-3",max:t.contactedClients.max,indeterminate:t.contactedClients.loading}})],1),a("div",{staticClass:"column items-center"},[a("div",{staticClass:"text-white q-mb-md"},[t._v("Números equivocados")]),a("q-circular-progress",{staticClass:"text-white",attrs:{"show-value":"",value:t.wrongNumbers.amount,size:"100px",color:"info",thickness:.2,"center-color":"grey-10","track-color":"grey-3",max:t.wrongNumbers.max,indeterminate:t.wrongNumbers.loading}})],1)])])},q=[],y=(a("99af"),a("4de4"),a("fb6a"),a("4e82"),a("a434"),a("0d03"),a("284c")),x=a("8055"),k=a.n(x),S={name:"Dashboard",data:function(){return{calledClients:{amount:0,max:0,loading:!0},totalCalls:{amount:0,max:0,loading:!0},contactedClients:{amount:0,max:0,loading:!0},wrongNumbers:{amount:0,max:0,loading:!0},io:null,clients:[],calls:[],date:"",prevDate:"",locale:{days:["Lunes","Martes","Miércoles","Jueves","Viernes","Sábado","Domingo"],daysShort:["Lun","Mar","Mie","Jue","Vie","Sab","Dom"],months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Setimebre","Octubre","Noviembre","Diciembre"],monthsShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Set","Oct","Nov","Dic"]},dbName:"",slowInterval:null,fastInterval:null,config:{},disableFilterDate:!0}},mounted:function(){var t=this;Et.$emit("updateTitle",{title:"Dashboard"}),this.$q.loadingBar.setDefaults({size:"0px"}),this.$q.loadingBar.stop(),this.config={headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}},this.dbName=localStorage.getItem("entity_prefix");var e=new Date;this.date="".concat(e.getDate(),"/").concat(("00"+(e.getMonth()+1)).slice(-2),"/").concat(e.getFullYear()),this.prevDate=this.date,this.io=k()("".concat(g)),this.io.on("connect",(function(){t.setInitData(),t.fastInterval=setInterval((function(){var e=t.date!=t.prevDate?null:15;t.io.emit("update",{key:"total_calls",db:t.dbName,limit:e,date:t.date})}),7e3),t.slowInterval=setInterval((function(){t.io.emit("update",{key:"called_clients",db:t.dbName,date:t.date}),t.io.emit("update",{key:"contacted_clients",db:t.dbName,date:t.date}),t.io.emit("update",{key:"wrong_number",db:t.dbName,date:t.date})}),3e4)})),this.io.on("update-front",(function(e){if(e.status&&t.dateIsNow(t.date))switch(e.key){case"total_calls":t.joinCalls(e.data.rows,e.limit);break;case"called_clients":t.calledClients.amount=e.data.rows,t.calledClients.loading=!1;break;case"contacted_clients":t.contactedClients.amount=e.data.rows,t.contactedClients.loading=!1;break;case"wrong_number":t.wrongNumbers.amount=e.data.rows,t.wrongNumbers.loading=!1;break}}))},methods:{joinCalls:function(t,e){var a=[];if(this.calls.length&&this.date==this.prevDate){var s=Object(y["a"])(this.calls),i=s.splice(-1*e,e),n=function(e){var s=i.filter((function(a){return a.id==t[e].id}));s.length||a.push(t[e])};for(var o in t)n(o);i=i.concat(a),this.calls=s.concat(i).sort((function(t,e){return t.id-e.id}))}else this.calls=t.sort((function(t,e){return t.id-e.id}));this.totalCalls.amount=this.calls.length,this.totalCalls.loading=!1},onChangeDate:function(){this.date!=this.prevDate&&(this.disableFilterDate=!0,this.disconnectSocket(),this.totalCalls.loading=!0,this.calledClients.loading=!0,this.contactedClients.loading=!0,this.wrongNumbers.loading=!0,this.totalCalls.amount=0,this.calledClients.amount=0,this.contactedClients.amount=0,this.wrongNumbers.amount=0,this.calls=0,this.prevDate=this.date,this.dateIsNow(this.date)?this.io.open():this.setInitData()),this.$refs.popupProxyRef.hide()},setInitData:function(){var t=this;this.axios.post("".concat(f,"/report"),{db:this.dbName,date:this.date},this.config).then((function(e){e.data.status&&(t.totalCalls.max=12*e.data.all_clients,t.calledClients.max=e.data.all_clients,t.contactedClients.max=e.data.all_clients,t.wrongNumbers.max=2*e.data.all_clients,t.calledClients.amount=e.data.called_clients,t.contactedClients.amount=e.data.contacted_clients,t.wrongNumbers.amount=e.data.wrong_number,t.calledClients.loading=!1,t.contactedClients.loading=!1,t.wrongNumbers.loading=!1,t.joinCalls(e.data.total_calls),t.disableFilterDate=!1)}))},disconnectSocket:function(){null!=this.io&&this.io.disconnect(),null!=this.slowInterval&&clearInterval(this.slowInterval),null!=this.fastInterval&&clearInterval(this.fastInterval)},dateIsNow:function(t){var e=new Date(t.substring(3,5)+"/"+t.substring(0,2)+"/"+t.substring(7,10)).setHours(0,0,0,0),a=(new Date).setHours(0,0,0,0);return e==a}},beforeDestroy:function(){this.disconnectSocket(),this.$q.loadingBar.setDefaults({size:"2px"})}},D=S,N=(a("4e01"),Object(l["a"])(D,w,q,!1,null,"ec6b7142",null)),A=N.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list-form"},[a("q-btn",{attrs:{icon:"navigate_before","text-color":"white",color:"teal",size:"lg",dense:""},on:{click:function(e){return t.$router.push({name:"List"})}}}),a("div",{staticClass:"column items-center"},[a("q-card",{staticClass:"q-px-xl column items-center own-card bg-blue-grey-10"},[a("q-input",{ref:"listid",staticClass:"own-input q-mb-md q-mt-lg",attrs:{color:"teal-4",label:"Id *",type:"number",min:"0",dark:"","lazy-rules":"",rules:[function(t){return t>99||"Debe ser mayor o igual 100"},function(e){return!t.listIds.includes(e)||"El ID ya existe"}],filled:""},model:{value:t.id,callback:function(e){t.id=e},expression:"id"}}),a("q-input",{ref:"listname",staticClass:"own-input q-mb-md",attrs:{color:"teal-4",label:"Nombre *",rules:[function(t){return t.length>1||"Al menos dos caracteres"}],dark:"","lazy-rules":"",filled:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("q-select",{ref:"listcampaign",staticClass:"own-input",attrs:{color:"teal-4",label:"Campaña *",options:t.campaigns,outlined:"",rules:[function(e){return void 0!=t.campaign.value||"Debe seleccionar uno"}],"lazy-rules":"",dark:""},model:{value:t.campaign,callback:function(e){t.campaign=e},expression:"campaign"}}),a("q-btn",{staticClass:"q-my-lg",attrs:{color:"teal",size:"lg"},on:{click:t.save}},[t._v("Crear")])],1)],1)],1)},L=[],E=(a("caad"),a("d81d"),a("2532"),{name:"FormList",data:function(){return{id:"",name:"",campaigns:[],campaign:"",listIds:[],config:{}}},mounted:function(){var t=this;Et.$emit("updateTitle",{title:"Crear lista"}),this.config={headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}},this.axios.post("".concat(f,"/campaigns"),{},this.config).then((function(e){e.data.status&&(t.campaigns=e.data.campaigns.map((function(t){return{label:t.campaign_name,value:t.campaign_id}})))})),this.axios.post("".concat(f,"/lists"),{},this.config).then((function(e){e.data.status&&(t.listIds=e.data.lists.map((function(t){return String(t.list_id)})))}))},methods:{validateSuccess:function(){return this.id>99&&!this.listIds.includes(this.id)&&void 0!=this.campaign.value},save:function(){var t=this;this.validateSuccess()?this.axios.post("".concat(f,"/create-list"),{list_id:this.id,list_name:this.name,campaign_id:this.campaign.value},this.config).then((function(e){e.data.status?(t.$q.notify({position:"top",color:"positive",message:"Se creó la lista!",timeout:2e3}),t.id="",t.name="",t.campaign={},setTimeout((function(){t.$refs.listid.resetValidation(),t.$refs.listname.resetValidation(),t.$refs.listcampaign.resetValidation()}),10)):t.$q.notify({position:"top",color:"negative",message:"Error! Verifique los datos",timeout:2500,actions:[{icon:"close",color:"white"}]})})):this.$q.notify({position:"top",color:"warning",message:"Complete los campos",timeout:2500,actions:[{icon:"close",color:"white"}]})}}}),I=E,P=(a("ba8e"),Object(l["a"])(I,$,L,!1,null,"ba90c7f0",null)),j=P.exports,O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"charge"},[a("div",{staticClass:"row justify-end q-mb-lg"},[a("q-btn",{attrs:{icon:"add","text-color":"white",color:"blue-grey-7",fab:""},on:{click:function(e){return t.$router.push({name:"ListForm"})}}})],1),a("q-table",{staticClass:"bg-blue-grey-14",attrs:{data:t.lists,columns:t.columns,"row-key":"number","table-header-class":"bg-teal-9",pagination:t.pagination,grid:t.$q.screen.lt.sm,dark:""},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"body",fn:function(e){return[a("q-tr",[a("q-td",{key:"number",staticClass:"ellipsis",staticStyle:{"max-width":"100px"},attrs:{"auto-width":""}},[t._v(t._s(e.row.number))]),a("q-td",{key:"name",staticClass:"text-center ellipsis",staticStyle:{"max-width":"150px"}},[t._v(t._s(e.row.name))]),a("q-td",{key:"id",staticClass:"text-center ellipsis",staticStyle:{"max-width":"70px"}},[t._v(t._s(e.row.id))]),a("q-td",{key:"campaign",staticClass:"text-center ellipsis",staticStyle:{"max-width":"110px"}},[t._v(t._s(e.row.campaign))]),a("q-td",{key:"status",staticClass:"text-center",staticStyle:{"min-width":"110px"}},[a("q-checkbox",{attrs:{label:"Activo",color:"teal"},on:{input:function(a){return t.onChangeListStatus(e.row.id,a)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"props.row.status"}})],1),a("q-td",{key:"actions",staticClass:"text-center",staticStyle:{"min-width":"200px"}},[a("div",{staticClass:"row justify-center"},[a("q-btn",{attrs:{icon:"remove_red_eye",color:"info",round:"",dense:""},on:{click:function(a){return t.onShowDetails(e.row.id)}}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{icon:"edit",color:"primary",round:"",dense:""}})],1)])],1)]}},{key:"item",fn:function(e){return[a("div",{staticClass:"q-pa-xs col-xs-12 col-sm-6 grid-style-transition"},[a("q-card",{staticClass:"bg-blue-grey-9"},[a("q-list",[t._l(e.cols.filter((function(t){return"number"!=t.name&&"actions"!=t.name})),(function(s){return a("q-item",{key:s.name},[a("q-item-section",[a("q-item-label",{staticClass:"text-teal-3"},[t._v(t._s(s.label.toUpperCase()))])],1),a("q-item-section",{staticClass:"text-white",attrs:{side:""}},["status"!=s.name?a("q-item-label",[t._v(t._s(s.value))]):a("q-checkbox",{attrs:{label:"Activo",color:"teal"},on:{input:function(a){return t.onChangeListStatus(e.row.id,a)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"props.row.status"}})],1)],1)})),a("q-separator",{staticClass:"bg-grey"}),a("div",{staticClass:"row justify-center q-pa-md"},[a("q-btn",{attrs:{icon:"remove_red_eye",color:"info",round:"",dense:""},on:{click:function(a){return t.onShowDetails(e.row.id)}}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{icon:"edit",color:"primary",round:"",dense:""}})],1)],2)],1)],1)]}},{key:"bottom",fn:function(e){return[a("div",{staticClass:"fit row justify-end items-center text-white"},[a("div",{staticClass:"q-mr-lg"},[t._v("Página: "+t._s(e.pagination.page)+" de "+t._s(e.pagesNumber))]),a("q-btn",{attrs:{icon:"arrow_back_ios",disabled:e.isFirstPage,flat:"",dense:""},on:{click:e.prevPage}}),a("q-btn",{attrs:{icon:"arrow_forward_ios",disabled:e.isLastPage,flat:"",dense:""},on:{click:e.nextPage}})],1)]}}])}),a("q-dialog",{model:{value:t.showDetails,callback:function(e){t.showDetails=e},expression:"showDetails"}},[a("div",{staticClass:"bg-blue-grey-14 q-pa-lg"},[a("h6",{staticClass:"text-white"},[t._v("Detalles de la lista")]),a("div",{staticClass:"row q-mt-md"},[a("div",{staticClass:"column"},[a("div",{staticClass:"text-teal-3"},[t._v("ID")]),a("div",{staticClass:"text-teal-3"},[t._v("Nombre")]),a("div",{staticClass:"text-teal-3"},[t._v("Campaña")]),a("div",{staticClass:"text-teal-3"},[t._v("Estado")]),a("div",{staticClass:"text-teal-3"},[t._v("Descripción")])]),a("div",{staticClass:"column q-ml-lg"},[a("div",{staticClass:"text-white"},[t._v(t._s(t.popupData.id))]),a("div",{staticClass:"text-white"},[t._v(t._s(t.popupData.name))]),a("div",{staticClass:"text-white"},[t._v(t._s(t.popupData.campaign))]),a("div",{staticClass:"text-white"},[t._v(t._s(t.popupData.status?"Activo":"Inactivo"))]),a("div",{staticClass:"text-white"},[t._v(t._s(t.popupData.description))])])])])])],1)},M=[],z={name:"ListForm",data:function(){return{config:"",lists:[],campaigns:[],columns:[{name:"number",required:!0,label:"N°",align:"center"},{name:"name",required:!0,label:"NOMBRE",align:"center",field:function(t){return t.name}},{name:"id",required:!0,label:"ID",align:"center",field:function(t){return t.id}},{name:"campaign",required:!0,label:"CAMPAÑA",align:"center",field:function(t){return t.campaign}},{name:"status",required:!0,label:"ESTADO",align:"center",field:function(t){return t.status}},{name:"actions",required:!0,label:"ACCIONES",align:"center"}],popupData:{},showDetails:!1,pagination:{rowsPerPage:5,page:1,sortBy:"number"}}},mounted:function(){var t=this;Et.$emit("updateTitle",{title:"Listas"}),this.config={headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}},this.axios.post("".concat(f,"/campaigns"),{},this.config).then((function(e){e.data.status&&(t.campaigns=e.data.campaigns.map((function(t){return{label:t.campaign_name,value:t.campaign_id}}))),t.refreshLists()})),this.$q.screen.setSizes({sm:768})},methods:{getCampaignName:function(t){var e=this.campaigns.filter((function(e){return e.value==t}));return e.length?e[0].label:t},refreshLists:function(){var t=this;this.axios.post("".concat(f,"/all-lists"),{},this.config).then((function(e){e.data.status&&(t.lists=e.data.lists.map((function(e,a){return{id:e.list_id,number:a+1,name:e.list_name,campaign:t.getCampaignName(e.campaign_id),status:"Y"==e.active,description:e.list_description}})))}))},onChangeListStatus:function(t,e){var a=this;e=e?"Y":"N",this.axios.post("".concat(f,"/update-list-status"),{list_id:t,status:e},this.config).then((function(t){t.data.status||a.$q.notify({position:"top",color:"negative",message:"Error al actualizar",timeout:2500,actions:[{icon:"close",color:"white"}]})}))},onShowDetails:function(t){var e=this.lists.filter((function(e){return e.id==t}));e&&(this.popupData=e[0]),this.showDetails=!0}}},R=z,F=(a("4812"),Object(l["a"])(R,O,M,!1,null,"5fb10b30",null)),T=F.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user-form-container"},[a("div",{staticClass:"row justify-end q-mb-lg"},[a("q-btn",{attrs:{color:"blue-grey-7",icon:"add",round:"",fab:""},on:{click:function(e){t.isNew=!0}}})],1),a("div",{staticClass:"user-list"},[a("q-table",{staticClass:"bg-blue-grey-14",attrs:{data:t.data,columns:t.columns,"row-key":"user",pagination:t.pagination,grid:t.$q.screen.lt.sm,"table-header-class":"bg-teal-9",dark:""},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"top-row",fn:function(e){return[t.isNew?a("q-tr",[a("q-td",{key:"number"},[t._v("#")]),a("q-td",{key:"user"},[a("q-input",{staticClass:"user-form-item",attrs:{label:"Usuario",color:"secondary",dense:"",dark:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),a("q-td",{key:"password"},[a("q-input",{staticClass:"user-form-item",attrs:{type:"password",label:"Contraseña",color:"secondary",dense:"",dark:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("q-td",{key:"role"},[a("q-select",{staticClass:"q-mt-sm user-form-item",attrs:{label:"Rol",options:t.roles,color:"secondary",outlined:"",dense:"",dark:""},model:{value:t.rol,callback:function(e){t.rol=e},expression:"rol"}})],1),a("q-td",{key:"actions",staticClass:"text-center"},[a("q-btn",{attrs:{icon:"save",color:"primary",dense:"",round:""},on:{click:t.actionUser}}),a("q-btn",{staticClass:"q-ml-lg",attrs:{icon:"cancel",color:"negative",dense:"",round:""},on:{click:function(e){t.isNew=!1}}})],1)],1):t._e()]}},{key:"body",fn:function(e){return[a("q-tr",[a("q-td",{key:"number",staticClass:"ellipsis",staticStyle:{"max-width":"100px"},attrs:{"auto-width":""}},[t._v(t._s(e.row.number))]),a("q-td",{key:"user",staticClass:"text-center ellipsis",staticStyle:{"max-width":"170px"}},[t._v(t._s(e.row.user))]),a("q-td",{key:"password",staticClass:"text-center"},[t._v("*******")]),a("q-td",{key:"role",staticClass:"text-center ellipsis",staticStyle:{"max-width":"150px"}},[t._v(t._s(e.row.role))]),a("q-td",{key:"actions",staticClass:"text-center"},[a("q-btn",{attrs:{icon:"edit",color:"teal",round:"",dense:""}})],1)],1)]}},{key:"item",fn:function(e){return[a("div",{staticClass:"q-pa-xs col-xs-12 col-sm-6 grid-style-transition"},[a("q-card",{staticClass:"bg-blue-grey-9"},[a("q-list",[a("div",{staticClass:"q-pa-sm"},t._l(e.cols.filter((function(t){return"number"!=t.name&&"actions"!=t.name})),(function(e){return a("q-item",{key:e.name},[a("q-item-section",[a("q-item-label",{staticClass:"text-teal-3"},[t._v(t._s(e.label.toUpperCase()))])],1),a("q-item-section",{staticClass:"text-white",attrs:{side:""}},["password"!=e.name?a("q-item-label",[t._v(t._s(e.value))]):a("q-item-label",[t._v("*******")])],1)],1)})),1),a("q-separator",{staticClass:"bg-grey"}),a("div",{staticClass:"row justify-center q-pa-md"},[a("q-btn",{attrs:{icon:"edit",color:"teal",round:"",dense:""}})],1)],1)],1)],1)]}},{key:"bottom",fn:function(e){return[a("div",{staticClass:"fit row justify-end items-center text-white"},[a("div",{staticClass:"q-mr-lg"},[t._v("Página: "+t._s(e.pagination.page)+" de "+t._s(e.pagesNumber))]),a("q-btn",{attrs:{icon:"arrow_back_ios",disabled:e.isFirstPage,flat:"",dense:"",round:""},on:{click:e.prevPage}}),a("q-btn",{attrs:{icon:"arrow_forward_ios",disabled:e.isLastPage,flat:"",dense:"",round:""},on:{click:e.nextPage}})],1)]}}])})],1)])},B=[],V={name:"UserForm",data:function(){return{submitText:"Agregar",rol:"",roles:[],columns:[{name:"number",label:"N°",field:"number",align:"center"},{name:"usuario",label:"USUARIO",field:"user",align:"center"},{name:"password",label:"CONTRASEÑA",field:"password",align:"center"},{name:"role",label:"ROL",field:"role",align:"center"},{name:"actions",label:"ACCIONES",field:"actions",align:"center"}],data:[],config:"",isEditing:{},isNew:!1,username:"",password:"",raw_data_users:[],pagination:{rowsPerPage:5,page:1}}},mounted:function(){var t=this;Et.$emit("updateTitle",{title:"Administrar usuarios"}),this.config={headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}},this.axios.post("".concat(f,"/roles"),{},this.config).then((function(e){e.data.status&&(t.roles=e.data.roles.map((function(t){return{label:t.role.toUpperCase(),value:t.id}})))})),this.refreshUsers(),this.$q.screen.setSizes({sm:768})},methods:{refreshUsers:function(){var t=this;this.axios.post("".concat(f,"/users"),{},this.config).then((function(e){e.data.status&&(t.raw_data_users=e.data.users,t.data=e.data.users.map((function(t,e){return{id:t.id,number:e+1,user:t.username,password:t.password,role:t.role.toUpperCase()}})))}))},actionUser:function(){var t=this;this.isEditing||this.axios.post("".concat(f,"/register"),{username:this.username,password:this.password,role_id:this.rol.value},this.config).then((function(e){e.data.status?(t.refreshUsers(),t.$q.notify({position:"top",color:"positive",message:"Usuario agregado",timeout:2e3}),t.username="",t.password="",t.rol="",t.isNew=!1):t.$q.notify({position:"top",color:"negative",message:"Corrija el formulario",timeout:2e3})}))},actionEdit:function(t){this.$set(this.isEditing,t,!0)}}},J=V,Y=(a("e982"),Object(l["a"])(J,U,B,!1,null,"f0bab54a",null)),H=Y.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"charge"},[a("div",{staticClass:"row justify-end q-mb-lg"},[a("q-btn",{attrs:{icon:"add","text-color":"white",color:"blue-grey-7",fab:""},on:{click:function(e){return t.$router.push({name:"ChargeForm"})}}})],1),a("q-table",{staticClass:"bg-blue-grey-14",attrs:{data:t.charges,columns:t.columns,"row-key":"number","table-header-class":"bg-teal-9",pagination:t.pagination,grid:t.$q.screen.lt.md,dark:""},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"body",fn:function(e){return[a("q-tr",[a("q-td",{key:"number",staticClass:"ellipsis",staticStyle:{"max-width":"100px"},attrs:{"auto-width":""}},[t._v(t._s(e.row.__index+1))]),a("q-td",{key:"entity",staticClass:"text-center ellipsis",staticStyle:{"max-width":"150px"}},[t._v(t._s(e.row.entity))]),a("q-td",{key:"camp",staticClass:"text-center ellipsis",staticStyle:{"max-width":"150px"}},[t._v(t._s(e.row.camp))]),a("q-td",{key:"list",staticClass:"text-center ellipsis",staticStyle:{"max-width":"150px"}},[t._v(t._s(e.row.list))]),a("q-td",{key:"carrier",staticClass:"text-center",staticStyle:{"min-width":"120px"}},[a("q-select",{attrs:{options:t.carriers,color:"teal",outlined:"",dark:"",dense:""},on:{input:function(a){return t.onChangeCarrier(e.row.id,a)}},model:{value:t.carrier[e.row.id],callback:function(a){t.$set(t.carrier,e.row.id,a)},expression:"carrier[props.row.id]"}})],1),a("q-td",{key:"actions",staticClass:"text-center",staticStyle:{"min-width":"120px"}},[a("div",{staticClass:"row justify-center"},[a("q-btn",{attrs:{icon:"remove_red_eye",color:"info",round:"",dense:""},on:{click:function(a){return t.onShowDetails(e.row.id)}}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{icon:"edit",color:"primary",round:"",dense:""}})],1)])],1)]}},{key:"item",fn:function(e){return[a("div",{staticClass:"q-pa-xs col-xs-12 col-sm-6 grid-style-transition"},[a("q-card",{staticClass:"bg-blue-grey-9"},[a("q-list",[a("div",{staticClass:"q-pa-sm"},t._l(e.cols.filter((function(t){return"number"!=t.name&&"actions"!=t.name})),(function(s){return a("q-item",{key:s.name},[a("q-item-section",[a("q-item-label",{staticClass:"text-teal-3"},[t._v(t._s(s.label.toUpperCase()))])],1),a("q-item-section",{staticClass:"text-white",attrs:{side:""}},["carrier"!=s.name?a("q-item-label",[t._v(t._s(s.value))]):a("q-select",{attrs:{options:t.carriers,color:"teal",outlined:"",dark:"",dense:""},on:{input:function(a){return t.onChangeCarrier(e.row.id,a)}},model:{value:t.carrier[e.row.id],callback:function(a){t.$set(t.carrier,e.row.id,a)},expression:"carrier[props.row.id]"}})],1)],1)})),1),a("q-separator",{staticClass:"bg-grey"}),a("div",{staticClass:"row justify-center q-pa-md"},[a("q-btn",{attrs:{icon:"remove_red_eye",color:"info",round:""},on:{click:function(a){return t.onShowDetails(e.row.id)}}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{icon:"edit",color:"primary",round:""}})],1)],1)],1)],1)]}},{key:"bottom",fn:function(e){return[a("div",{staticClass:"fit row justify-end items-center text-white"},[a("div",{staticClass:"q-mr-lg"},[t._v("Página: "+t._s(e.pagination.page)+" de "+t._s(e.pagesNumber))]),a("q-btn",{attrs:{icon:"arrow_back_ios",disabled:e.isFirstPage,flat:"",dense:"",round:""},on:{click:e.prevPage}}),a("q-btn",{attrs:{icon:"arrow_forward_ios",disabled:e.isLastPage,flat:"",dense:"",round:""},on:{click:e.nextPage}})],1)]}}])}),a("q-dialog",{model:{value:t.showDetails,callback:function(e){t.showDetails=e},expression:"showDetails"}},[a("div",{staticClass:"bg-blue-grey-14 q-pa-lg"},[a("h6",{staticClass:"text-white"},[t._v("Detalles de carga")]),a("div",{staticClass:"row q-mt-md"},[a("div",{staticClass:"column"},[a("div",{staticClass:"text-teal-3"},[t._v("Entidad")]),a("div",{staticClass:"text-teal-3"},[t._v("Campaña")]),a("div",{staticClass:"text-teal-3"},[t._v("Lista")]),a("div",{staticClass:"text-teal-3"},[t._v("Iteraciones")]),a("div",{staticClass:"text-teal-3"},[t._v("Segundos entre iteraciones")]),a("div",{staticClass:"text-teal-3"},[t._v("Proveedor")]),a("div",{staticClass:"text-teal-3"},[t._v("Creación")]),a("div",{staticClass:"text-teal-3"},[t._v("Última actualización")])]),a("div",{staticClass:"column q-ml-lg"},[a("div",{staticClass:"text-white"},[t._v(t._s(t.popupData.entity))]),a("div",{staticClass:"text-white"},[t._v(t._s(t.popupData.camp))]),a("div",{staticClass:"text-white"},[t._v(t._s(t.popupData.list))]),a("div",{staticClass:"text-white"},[t._v(t._s(t.popupData.iterations))]),a("div",{staticClass:"text-white"},[t._v(t._s(t.popupData.seconds))]),a("div",{staticClass:"text-white"},[t._v(t._s(t.popupData.carrier))]),a("div",{staticClass:"text-white"},[t._v(t._s(t.popupData.created))]),a("div",{staticClass:"text-white"},[t._v(t._s(t.popupData.updated))])])])])])],1)},K=[],Q={name:"Charge",data:function(){return{config:"",charges:[],carriers:[],carrier:{},lists:[],campaigns:[],columns:[{name:"number",required:!0,label:"N°",align:"center"},{name:"entity",required:!0,label:"ENTIDAD",align:"center",field:function(t){return t.entity}},{name:"camp",required:!0,label:"CAMPAÑA",align:"center",field:function(t){return t.camp}},{name:"lista",required:!0,label:"LISTA",align:"center",field:function(t){return t.list}},{name:"carrier",required:!0,label:"PROVEEDOR",align:"center",field:function(t){return t.carrier}},{name:"actions",required:!0,label:"ACCIONES",align:"center"}],pagination:{rowsPerPage:7,page:1},popupData:{entity:"",camp:"",list:"",proveedor:"",iterations:"",seconds:""},showDetails:!1}},mounted:function(){var t=this;Et.$emit("updateTitle",{title:"Cargas"}),this.config={headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}},this.axios.post("".concat(f,"/carriers"),{},this.config).then((function(e){e.data.status&&(t.carriers=e.data.carriers.map((function(t){return{label:t.name,value:t.id}})))})),this.axios.post("".concat(f,"/all-lists"),{},this.config).then((function(e){e.data.status&&(t.lists=e.data.lists.map((function(t){return{label:t.list_name,value:t.list_id}})))})),this.axios.post("".concat(f,"/campaigns"),{},this.config).then((function(e){e.data.status&&(t.campaigns=e.data.campaigns.map((function(t){return{label:t.campaign_name,value:t.campaign_id}}))),t.refreshCharges()})),this.$q.screen.setSizes({md:900})},methods:{getCampaignName:function(t){var e=this.campaigns.filter((function(e){return e.value==t}));return e.length?e[0].label:t},getListName:function(t){var e=this.lists.filter((function(e){return e.value==t}));return e.length?e[0].label:t},refreshCharges:function(){var t=this;this.axios.post("".concat(f,"/all-charges"),{},this.config).then((function(e){if(e.data.status){var a={};t.charges=e.data.charges.map((function(e){return t.$set(a,e.charge_id,{label:e.carrier_name,values:e.carrier_id}),{id:e.charge_id,entity:e.entity_name,camp:t.getCampaignName(e.campaign_id),list:t.getListName(e.list_id),carrier:e.carrier_name,iterations:e.iterations,seconds:e.seconds_between_iterations,created:new Date(e.created_at).toLocaleString(),updated:new Date(e.created_at).toLocaleString()}})).sort((function(t,e){return e.id-t.id})),t.carrier=a}}))},onChangeCarrier:function(t,e){var a=this;this.axios.post("".concat(f,"/update-charge"),{charge_id:t,carrier_id:e.value},this.config).then((function(t){t.data.status||a.$q.notify({position:"top",color:"negative",message:"Error al actualizar",timeout:2e3})}))},onShowDetails:function(t){var e=this.charges.filter((function(e){return e.id==t}));e&&(this.popupData=e[0]),this.showDetails=!0}}},W=Q,X=(a("7b65"),Object(l["a"])(W,G,K,!1,null,"b87f1574",null)),Z=X.exports,tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"charge-form"},[a("q-btn",{attrs:{icon:"navigate_before","text-color":"white",color:"teal",size:"lg",dense:""},on:{click:function(e){return t.$router.push({name:"ChargeList"})}}}),a("div",{staticClass:"column items-center"},[a("q-card",{staticClass:"q-pa-xl column items-center bg-blue-grey-10"},[a("div",{staticClass:"row justify-around q-mb-md"},[a("q-select",{staticClass:"own-input",attrs:{color:"teal-1",label:"Canal *",options:t.channels,filled:"",dark:""},model:{value:t.channel,callback:function(e){t.channel=e},expression:"channel"}})],1),"CALL"==t.channel.label?a("div",{staticClass:"row justify-around q-mb-md"},[a("q-select",{staticClass:"own-input",attrs:{color:"teal-1",label:"Lista *",options:t.lists,outlined:"",dark:""},model:{value:t.list,callback:function(e){t.list=e},expression:"list"}}),a("q-select",{staticClass:"own-input",attrs:{color:"teal-1",label:"Proveedor *",options:t.carriers,outlined:"",dark:""},model:{value:t.carrier,callback:function(e){t.carrier=e},expression:"carrier"}})],1):t._e(),t._e(),a("div",{staticClass:"row justify-around items-center q-my-sm"},[a("q-uploader",{ref:"uploader",attrs:{color:"blue-grey-10",label:"Subir archivo","field-name":"file",accept:".xlsx,.xls","hide-upload-btn":"",url:"",dark:""},on:{added:t.onFileSelected,removed:function(e){t.allowMatch=!1}}}),t.allowMatch?a("q-btn",{staticClass:"q-ml-lg",attrs:{icon:"drag_indicator",color:"primary",loading:t.btnMatchLoad,round:""},on:{click:function(e){t.dialogStatus=!0}}}):t._e(),a("q-dialog",{attrs:{"full-width":""},model:{value:t.dialogStatus,callback:function(e){t.dialogStatus=e},expression:"dialogStatus"}},[a("div",{staticClass:"q-pa-lg bg-blue-grey-14"},[a("div",{staticClass:"row justify-center q-mb-xl"},[a("div",{staticClass:"column q-mr-xl"},[a("h6",{staticClass:"text-white"},[t._v("Relacionar campos y columnas")]),a("div",{staticClass:"text-white"},[t._v("En caso de los teléfonos, solo seleccione una de las columnas en serie.")])]),a("q-btn",{attrs:{color:"teal"},on:{click:t.resetMatcher}},[t._v("Resetear")])],1),a("div",{staticClass:"row justify-center"},[a("div",{staticClass:"column q-mr-xl"},[a("q-btn",{staticClass:"q-mb-md",attrs:{color:t.dataColumn.code.class},on:{click:function(e){return t.clickData("code")}}},[t._v("Codigo")]),a("q-btn",{staticClass:"q-mb-md",attrs:{color:t.dataColumn.name.class},on:{click:function(e){return t.clickData("name")}}},[t._v("Nombre")]),a("q-btn",{staticClass:"q-mb-md",attrs:{color:t.dataColumn.product.class},on:{click:function(e){return t.clickData("product")}}},[t._v("Producto")]),a("q-btn",{staticClass:"q-mb-md",attrs:{color:t.dataColumn.amount.class},on:{click:function(e){return t.clickData("amount")}}},[t._v("Monto")]),a("q-btn",{staticClass:"q-mb-md",attrs:{color:t.dataColumn.currency.class},on:{click:function(e){return t.clickData("currency")}}},[t._v("Moneda")]),a("q-btn",{staticClass:"q-mb-md",attrs:{color:t.dataColumn.date.class},on:{click:function(e){return t.clickData("date")}}},[t._v("Fecha o mora")]),a("q-btn",{attrs:{color:t.dataColumn.phone.class},on:{click:function(e){return t.clickData("phone")}}},[t._v("Telefonos")])],1),t._l(Math.ceil(this.excelColumns.length/7),(function(e){return a("div",{staticClass:"column q-ml-md"},t._l(t.excelColumns.filter((function(t,a){return a>=7*(e-1)&&a<7*e})),(function(e,s){return a("q-btn",{key:s,staticClass:"q-mb-md",attrs:{color:void 0!=t.dataColMatch[e]?t.dataColMatch[e]:"grey"},on:{click:function(a){return t.tryMatch(e)}}},[t._v(t._s(e))])})),1)}))],2)])]),a("q-dialog",{model:{value:t.report.show,callback:function(e){t.$set(t.report,"show",e)},expression:"report.show"}},[a("div",{staticClass:"row up__report q-pa-lg bg-blue-grey-14"},[a("div",{staticClass:"column"},[a("div",{staticClass:"text-teal-3"},[t._v("Procesos pseudo paralelos:")]),a("div",{staticClass:"text-teal-3"},[t._v("Tiempo de carga:")]),a("div",{staticClass:"text-teal-3"},[t._v("Mensaje:")]),a("div",{staticClass:"text-teal-3"},[t._v("Clientes insertados:")]),a("div",{staticClass:"text-teal-3"},[t._v("Productos insertados:")]),a("div",{staticClass:"text-teal-3"},[t._v("Registros duplicados:")]),a("div",{staticClass:"text-teal-3"},[t._v("Registros sin codigo, producto o teléfonos:")])]),a("div",{staticClass:"column q-ml-md"},[a("div",{staticClass:"text-white"},[t._v(t._s(t.report.process))]),a("div",{staticClass:"text-white"},[t._v(t._s(t.report.time))]),a("div",{staticClass:"text-white"},[t._v(t._s(t.report.msg))]),a("div",{staticClass:"text-white"},[t._v(t._s(t.report.clients))]),a("div",{staticClass:"text-white"},[t._v(t._s(t.report.products))]),a("div",{staticClass:"text-white"},[t._v(t._s(t.report.duplicates))]),a("div",{staticClass:"text-white"},[t._v(t._s(t.report.out))])])])])],1),a("div",{staticClass:"row"},[a("q-btn",{staticClass:"q-mt-lg",attrs:{color:"teal-9",size:"18px",loading:t.loading},on:{click:t.upload}},[t._v("Subir")]),t.isReport?a("q-btn",{staticClass:"q-mt-lg q-ml-lg",attrs:{color:t.chargeLoadedClass},on:{click:function(e){t.report.show=!0}}},[t._v("Mostrar reporte")]):t._e()],1)])],1)],1)},et=[],at=a("1146"),st=a.n(at),it={name:"ChargeForm",data:function(){return{msg:"",isError:!1,iterations:0,seconds:0,loading:!1,btnMatchLoad:!1,lists:[],carriers:[],channels:[],carrier:"",list:"",channel:"",dialogStatus:!1,config:"",dbName:"",report:{msg:"NA",time:"NA",clients:"NA",products:"NA",duplicates:"NA",out:"NA",process:"NA",show:!1},isReport:!1,excelColumns:[],dataColumn:{code:{field:"",class:"grey",clickClass:"blue-grey-10"},name:{field:"",class:"grey",clickClass:"red"},product:{field:"",class:"grey",clickClass:"orange-9"},amount:{field:"",class:"grey",clickClass:"brown-8"},currency:{field:"",class:"grey",clickClass:"blue-8"},date:{field:"",class:"grey",clickClass:"green-8"},phone:{field:"",class:"grey",clickClass:"secondary"},prevSelected:""},dataColMatch:{},allowMatch:!1,chargeLoadedClass:"grey"}},mounted:function(){var t=this;Et.$emit("updateTitle",{title:"Realizar carga"}),this.config={headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}},this.dbName=localStorage.getItem("entity_prefix"),this.axios.post("".concat(f,"/lists"),{},this.config).then((function(e){e.data.status&&(t.lists=e.data.lists.map((function(t){return{label:t.list_name,value:t.list_id}})))})),this.axios.post("".concat(f,"/carriers"),{entity_prefix:this.dbName},this.config).then((function(e){e.data.status&&(t.carriers=e.data.carriers.map((function(t){return{label:t.name,value:t.id}})))})),this.axios.post("".concat(f,"/channels"),{},this.config).then((function(e){if(e.data.status){t.channels=e.data.channels.map((function(t){return{label:t.name.toUpperCase(),value:t.id}}));var a=t.channels.filter((function(t){return"CALL"==t.label}));a.length&&(t.channel=a[0])}}))},methods:{validateSuccess:function(){var t="";if(0==this.$refs.uploader.files.length)t="Seleccione un ARCHIVO";else if("CALL"==this.channel.label&&void 0==this.list.value)t="Seleccione una LISTA";else if("CALL"==this.channel.label&&void 0==this.carrier.value)t="Seleccione un PROVEEDOR";else if(void 0==this.channel.value)t="Seleccione un CANAL";else{if(this.dbName)return{status:!0};t="Problemas internos. Intente más tarde."}return{status:!1,msg:t}},upload:function(){var t=this;this.isReport=!1,this.loading=!0,this.report.msg="NA",this.report.time="NA",this.report.clients="NA",this.report.products="NA",this.report.duplicates="NA",this.report.out="NA",this.report.process="NA",this.report.show=!1;var e=this.validateSuccess();if(e.status){var a=this.$refs.uploader.files[0],s=new FormData;s.append("file",a),s.set("iterations",this.iterations),s.set("seconds",this.seconds),s.set("list_id",void 0==this.list.value?0:this.list.value),s.set("carrier_id",void 0==this.carrier.value?0:this.carrier.value),s.set("entity_prefix",this.dbName),s.set("channel_id",this.channel.value),s.set("matched_columns",JSON.stringify({code:this.dataColumn.code.field,name:this.dataColumn.name.field,product:this.dataColumn.product.field,amount:this.dataColumn.amount.field,currency:this.dataColumn.currency.field,date:this.dataColumn.date.field,phone:this.dataColumn.phone.field})),this.axios.post("".concat(f,"/carga"),s,{headers:{Authorization:"Bearer "+localStorage.getItem("access_token"),"Content-Type":"multipart/form-data"}}).then((function(e){e.data.status?(t.isError=!1,t.iterations="",t.seconds="",t.carrier="",t.list="",t.channel="",t.$refs.uploader.reset(),t.chargeLoadedClass="positive",t.$q.notify({position:"top",color:"positive",message:"Se creó la lista!",timeout:2e3}),t.allowMatch=!1):(t.chargeLoadedClass="negative",t.$q.notify({position:"top",color:"negative",message:"Error! Verifique los datos",timeout:2500,actions:[{icon:"close",color:"white"}]})),t.report.time=void 0!=e.data.time?e.data.time:"NA",t.report.clients=void 0!=e.data.count_clients?e.data.count_clients:"NA",t.report.products=void 0!=e.data.count_products?e.data.count_products:"NA",t.report.duplicates=void 0!=e.data.count_duplicates?e.data.count_duplicates:"NA",t.report.out=void 0!=e.data.count_out?e.data.count_out:"NA",t.report.msg=void 0!=e.data.msg?e.data.msg:"NA",t.report.process=void 0!=e.data.process?e.data.process:"NA",t.report.show=!0,t.isReport=!0})).then((function(){t.loading=!1,t.isReport=!0})).catch((function(){t.loading=!1,t.isReport=!0}))}else this.loading=!1,this.$q.notify({position:"top",color:"warning",message:void 0!=e.msg?e.msg:"Complete los campos",timeout:2500,actions:[{icon:"close",color:"white"}]})},onFileSelected:function(){var t=this;this.allowMatch=!0,this.btnMatchLoad=!0;var e=this.$refs.uploader.files[0],a=new FileReader;a.onload=function(){var e=st.a.read(a.result,{type:"buffer"}),s=e.Sheets[e.SheetNames[0]],i=st.a.utils.sheet_to_json(s,{header:1});i.length&&(t.excelColumns=i[0],t.dialogStatus=!0),t.btnMatchLoad=!1},a.readAsArrayBuffer(e)},clickData:function(t){this.dataColumn[t].field||(this.dataColumn.prevSelected?this.dataColumn.prevSelected!=t||this.dataColumn[t].field||(this.dataColumn.prevSelected="",this.dataColumn[t].class="grey"):(this.dataColumn[t].class=this.dataColumn[t].clickClass,this.dataColumn.prevSelected=t))},tryMatch:function(t){this.dataColumn.prevSelected&&(this.dataColumn[this.dataColumn.prevSelected].field=t,this.$set(this.dataColMatch,t,this.dataColumn[this.dataColumn.prevSelected].class),this.dataColumn.prevSelected="")},resetMatcher:function(){this.dataColumn={code:{field:"",class:"grey",clickClass:"blue-grey-10"},name:{field:"",class:"grey",clickClass:"red"},product:{field:"",class:"grey",clickClass:"orange-9"},amount:{field:"",class:"grey",clickClass:"brown-8"},currency:{field:"",class:"grey",clickClass:"blue-8"},date:{field:"",class:"grey",clickClass:"green-8"},phone:{field:"",class:"grey",clickClass:"secondary"},prevSelected:""},this.dataColMatch={}}}},nt=it,ot=(a("971e"),Object(l["a"])(nt,tt,et,!1,null,"5ef842b4",null)),rt=ot.exports,lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-layout",{staticClass:"bg-blue-grey-10"},[a("q-header",{attrs:{elevated:""},model:{value:t.headerState,callback:function(e){t.headerState=e},expression:"headerState"}},[a("q-toolbar",{staticClass:"bg-grey-9 text-white q-py-sm"},[a("q-btn",{attrs:{color:"white",icon:"menu",round:"",dense:"",flat:""},on:{click:function(e){t.drawer=!t.drawer}}}),a("q-toolbar-title",{staticClass:"q-ml-lg"},[t._v(t._s(t.title))]),a("div",{staticClass:"q-mr-lg"},[a("q-select",{attrs:{color:"teal",options:t.entities,dense:"",dark:"",filled:""},on:{input:t.updateEntity},model:{value:t.entity,callback:function(e){t.entity=e},expression:"entity"}})],1),a("q-btn",{attrs:{color:"white","text-color":"grey-10",icon:"person",round:""}},[a("q-menu",[a("q-list",[a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""}},[a("q-item-section",{on:{click:t.logout}},[t._v("Cerrar Sesión")])],1)],1)],1)],1)],1)],1),a("q-drawer",{attrs:{width:200,breakpoint:1040,mini:t.miniDrawState,elevated:"","show-if-above":t.ifAbove},on:{mouseover:function(e){t.miniDrawState=!1},mouseout:function(e){t.miniDrawState=!0}},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("q-scroll-area",{staticClass:"fit bg-grey-10"},[a("q-list",{attrs:{padding:"",dark:""}},t._l(t.modules,(function(e,s){return a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:s,attrs:{clickable:"",active:t.actives[e.id],"active-class":"text-secondary"},on:{click:function(a){return t.route(e.route_name,e.id)},mouseup:function(a){return"button"in a&&1!==a.button?null:t.newTab(e.route_name)}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:e.icon}})],1),a("q-item-section",[t._v(t._s(e.name))])],1)})),1)],1)],1),a("q-page-container",[a("q-page",{staticClass:"page",attrs:{padding:""}},[a("div",{staticClass:"q-pa-md"},[a("router-view")],1)])],1)],1)},ct=[],ut=(a("4160"),a("159b"),{name:"DashboardLayout",data:function(){return{drawer:!1,ifAbove:!1,headerState:!0,config:"",miniDrawState:!0,actives:{},title:"Dashboard",prevSelected:"",entity:"",entities:[],modules:[]}},mounted:function(){var t=this;this.config={headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}},this.axios.post("".concat(f,"/get-modules"),{},this.config).then((function(e){t.modules=e.data.modules;var a=t.$router.currentRoute.meta.module,s=t.modules.filter((function(t){return t.route_name==a}));s.length&&(t.route(a,s[0].id,!1),t.ifAbove=!0)})),this.axios.post("".concat(f,"/entities-user"),{},this.config).then((function(e){e.data.entities.forEach((function(e){e.prefix===localStorage.getItem("entity_prefix")&&(t.entity=e.name)})),t.entities=e.data.entities.map((function(t){return{label:t.name,value:t.id,prefix:t.prefix}}))})),Et.$on("updateTitle",(function(e){t.title=e.title}))},methods:{logout:function(){var t=this;this.axios.post("".concat(f,"/logout"),{},this.config).then((function(e){e.data.status&&t.$q.notify({position:"top",color:"blue-grey-7",message:"Se cerró la sesión",timeout:2e3})})),localStorage.removeItem("access_token"),localStorage.removeItem("entity_prefix"),this.$router.push({name:"Login"})},route:function(t,e){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];void 0!=this.prevSelected&&(this.actives[this.prevSelected]=!1),this.actives[e]=!0,this.prevSelected=e,a&&this.$router.push({name:t})},updateEntity:function(t){localStorage.setItem("entity_prefix",t.prefix)},newTab:function(t){var e=this.$router.resolve({name:t});window.open(e.href,"_blank")}}}),dt=ut,mt=(a("4ed5"),Object(l["a"])(dt,lt,ct,!1,null,"44af454a",null)),pt=mt.exports,ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"remote-agents-list"},[a("q-table",{staticClass:"bg-blue-grey-14",attrs:{data:t.remoteAgents,columns:t.columns,"row-key":"number","table-header-class":"bg-teal-9",pagination:t.pagination,grid:t.$q.screen.lt.md,dark:""},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"body",fn:function(e){return[a("q-tr",[a("q-td",{key:"number",staticClass:"ellipsis",staticStyle:{"max-width":"100px"},attrs:{"auto-width":""}},[t._v(t._s(e.row.__index+1))]),a("q-td",{key:"user",staticClass:"text-center ellipsis",staticStyle:{"max-width":"150px"}},[t._v(t._s(e.row.user))]),a("q-td",{key:"lines",staticClass:"text-center ellipsis",staticStyle:{"max-width":"100px"}},[t.isEditing[e.row.id]?a("div",{staticClass:"row justify-center"},[a("q-input",{staticStyle:{"max-width":"100px"},attrs:{color:"teal",type:"number","text-align":"center",outlined:"",dark:"",dense:""},model:{value:e.row.lines,callback:function(a){t.$set(e.row,"lines",a)},expression:"props.row.lines"}})],1):a("span",[t._v(t._s(e.row.lines))])]),a("q-td",{key:"campaign_id",staticClass:"text-center ellipsis",staticStyle:{"max-width":"70px"}},[t._v(t._s(e.row.campaign_id))]),a("q-td",{key:"status",staticClass:"text-center",staticStyle:{"min-width":"100px"}},[a("q-checkbox",{attrs:{label:"Activo",color:"teal"},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"props.row.status"}})],1),a("q-td",{key:"actions",staticClass:"text-center",staticStyle:{"min-width":"120px"}},[t.isEditing[e.row.id]?a("div",{staticClass:"row justify-center"},[a("q-btn",{attrs:{icon:"save",color:"primary",round:"",dense:""},on:{click:function(a){return t.onSave(e.row.id,e.row.lines)}}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{icon:"cancel",color:"negative",round:"",dense:""},on:{click:function(a){return t.onCancel(e.row)}}})],1):a("div",{staticClass:"row justify-center"},[a("q-btn",{attrs:{icon:"edit",color:"primary",round:"",dense:""},on:{click:function(a){return t.onEdit(e.row.id,e.row.lines)}}})],1)])],1)]}},{key:"item",fn:function(e){return[a("div",{staticClass:"q-pa-xs col-xs-12 col-sm-6 grid-style-transition"},[a("q-card",{staticClass:"bg-blue-grey-9"},[a("q-list",[a("div",{staticClass:"q-pa-sm"},t._l(e.cols.filter((function(t){return"number"!=t.name&&"actions"!=t.name})),(function(s){return a("q-item",{key:s.name},[a("q-item-section",[a("q-item-label",{staticClass:"text-teal-3"},[t._v(t._s(s.label.toUpperCase()))])],1),a("q-item-section",{staticClass:"text-white",attrs:{side:""}},["lines"==s.name?a("div",[t.isEditing[e.row.id]?a("q-input",{staticStyle:{"max-width":"100px"},attrs:{color:"teal",type:"number","text-align":"center",outlined:"",dark:"",dense:""},model:{value:e.row.lines,callback:function(a){t.$set(e.row,"lines",a)},expression:"props.row.lines"}}):a("q-item-label",[t._v(t._s(s.value))])],1):a("div",["status"!=s.name?a("q-item-label",[t._v(t._s(s.value))]):a("q-checkbox",{attrs:{label:"Activo",color:"teal"},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"props.row.status"}})],1)])],1)})),1),a("q-separator",{staticClass:"bg-grey"}),a("div",{staticClass:"row justify-center q-pa-md"},[t.isEditing[e.row.id]?a("div",{staticClass:"row justify-center"},[a("q-btn",{attrs:{icon:"save",color:"primary",round:""},on:{click:function(a){return t.onSave(e.row.id,e.row.lines)}}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{icon:"cancel",color:"negative",round:""},on:{click:function(a){return t.onCancel(e.row)}}})],1):a("div",{staticClass:"row justify-center"},[a("q-btn",{attrs:{icon:"edit",color:"primary",round:""},on:{click:function(a){return t.onEdit(e.row.id,e.row.lines)}}})],1)])],1)],1)],1)]}},{key:"bottom",fn:function(e){return[a("div",{staticClass:"fit row justify-end items-center text-white"},[a("div",{staticClass:"q-mr-lg"},[t._v("Página: "+t._s(e.pagination.page)+" de "+t._s(e.pagesNumber))]),a("q-btn",{attrs:{icon:"arrow_back_ios",disabled:e.isFirstPage,flat:"",dense:"",round:""},on:{click:e.prevPage}}),a("q-btn",{attrs:{icon:"arrow_forward_ios",disabled:e.isLastPage,flat:"",dense:"",round:""},on:{click:e.nextPage}})],1)]}}])}),a("q-dialog",{model:{value:t.showDetails,callback:function(e){t.showDetails=e},expression:"showDetails"}},[a("div",{staticClass:"bg-blue-grey-14 q-pa-lg"},[a("h6",{staticClass:"text-white"},[t._v("Detalles de la lista")]),a("div",{staticClass:"row q-mt-md"},[a("div",{staticClass:"column"},[a("div",{staticClass:"text-teal-3"},[t._v("ID")]),a("div",{staticClass:"text-teal-3"},[t._v("Nombre")]),a("div",{staticClass:"text-teal-3"},[t._v("Campaña")]),a("div",{staticClass:"text-teal-3"},[t._v("Estado")]),a("div",{staticClass:"text-teal-3"},[t._v("Descripción")])]),a("div",{staticClass:"column q-ml-lg"},[a("div",{staticClass:"text-white"},[t._v(t._s(t.popupData.id))]),a("div",{staticClass:"text-white"},[t._v(t._s(t.popupData.name))]),a("div",{staticClass:"text-white"},[t._v(t._s(t.popupData.campaign))]),a("div",{staticClass:"text-white"},[t._v(t._s(t.popupData.status?"Activo":"Inactivo"))]),a("div",{staticClass:"text-white"},[t._v(t._s(t.popupData.description))])])])])])],1)},ft=[],gt={name:"RemoteAgentsList",data:function(){return{config:{},remoteAgents:[],campaigns:[],columns:[{name:"number",required:!0,label:"N°",align:"center"},{name:"user",required:!0,label:"USUARIO",align:"center",field:function(t){return t.user}},{name:"lines",required:!0,label:"LINES",align:"center",field:function(t){return t.lines}},{name:"campaign_id",required:!0,label:"ID DE CAMPAÑA",align:"center",field:function(t){return t.campaign_id}},{name:"status",required:!0,label:"ESTADO",align:"center",field:function(t){return t.status}},{name:"actions",required:!0,label:"ACCIONES",align:"center"}],popupData:{},showDetails:!1,isEditing:{},prevLinesValue:null,pagination:{rowsPerPage:5,page:1}}},mounted:function(){var t=this;Et.$emit("updateTitle",{title:"Agentes remotos"}),this.config={headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}},this.axios.post("".concat(f,"/remote-agents-list"),{},this.config).then((function(e){e.data.status&&(t.remoteAgents=e.data.agents.map((function(e){return t.$set(t.isEditing,e.remote_agent_id,!1),{id:e.remote_agent_id,user:e.user_start,lines:e.number_of_lines,status:"ACTIVE"==e.status,campaign_id:e.campaign_id}})))})),this.$q.screen.setSizes({md:768})},methods:{onEdit:function(t,e){this.$set(this.isEditing,t,!0),this.prevLinesValue=e},onSave:function(t,e){var a=this;this.axios.post("".concat(f,"/remote-agents-update-lines"),{lines:e,id:t},this.config).then((function(t){t.data.status||a.$q.notify({position:"top",color:"negative",message:"Error al actualizar",timeout:2e3})})),this.prevLinesValue=null,this.$set(this.isEditing,t,!1)},onCancel:function(t){t.lines=this.prevLinesValue,this.prevLinesValue=null,this.$set(this.isEditing,t.id,!1)}}},vt=gt,bt=(a("4c84"),Object(l["a"])(vt,ht,ft,!1,null,"3b93023e",null)),Ct=bt.exports,_t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"charge"},[a("q-table",{staticClass:"bg-blue-grey-14",attrs:{data:t.campaigns,columns:t.columns,"row-key":"number","table-header-class":"bg-teal-9",pagination:t.pagination,grid:t.$q.screen.lt.sm,dark:""},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"body",fn:function(e){return[a("q-tr",[a("q-td",{key:"number",staticClass:"ellipsis",staticStyle:{"max-width":"100px"},attrs:{"auto-width":""}},[t._v(t._s(e.row.__index+1))]),a("q-td",{key:"name",staticClass:"text-center ellipsis",staticStyle:{"max-width":"150px"}},[t._v(t._s(e.row.name))]),a("q-td",{key:"id",staticClass:"text-center ellipsis",staticStyle:{"max-width":"70px"}},[t._v(t._s(e.row.id))]),a("q-td",{key:"status",staticClass:"text-center",staticStyle:{"min-width":"110px"}},[a("q-checkbox",{attrs:{label:"Activo",color:"teal"},on:{input:function(a){return t.onChangeStatus(e.row.id,a)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"props.row.status"}})],1),a("q-td",{key:"actions",staticClass:"text-center",staticStyle:{"min-width":"150px"}},[a("div",{staticClass:"row justify-center"},[a("q-btn",{attrs:{icon:"remove_red_eye",color:"info",round:"",dense:""},on:{click:function(a){return t.onShowDetails(e.row.id)}}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{icon:"edit",color:"primary",round:"",dense:""}})],1)])],1)]}},{key:"item",fn:function(e){return[a("div",{staticClass:"q-pa-xs col-xs-12 col-sm-6 grid-style-transition"},[a("q-card",{staticClass:"bg-blue-grey-9"},[a("q-list",[t._l(e.cols.filter((function(t){return"number"!=t.name&&"actions"!=t.name})),(function(s){return a("q-item",{key:s.name},[a("q-item-section",[a("q-item-label",{staticClass:"text-teal-3"},[t._v(t._s(s.label.toUpperCase()))])],1),a("q-item-section",{staticClass:"text-white",attrs:{side:""}},["status"!=s.name?a("q-item-label",[t._v(t._s(s.value))]):a("q-checkbox",{attrs:{label:"Activo",color:"teal"},on:{input:function(a){return t.onChangeStatus(e.row.id,a)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"props.row.status"}})],1)],1)})),a("q-separator",{staticClass:"bg-grey"}),a("div",{staticClass:"row justify-center q-pa-md"},[a("q-btn",{attrs:{icon:"remove_red_eye",color:"info",round:"",dense:""},on:{click:function(a){return t.onShowDetails(e.row.id)}}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{icon:"edit",color:"primary",round:"",dense:""}})],1)],2)],1)],1)]}},{key:"bottom",fn:function(e){return[a("div",{staticClass:"fit row justify-end items-center text-white"},[a("div",{staticClass:"q-mr-lg"},[t._v("Página: "+t._s(e.pagination.page)+" de "+t._s(e.pagesNumber))]),a("q-btn",{attrs:{icon:"arrow_back_ios",disabled:e.isFirstPage,flat:"",dense:""},on:{click:e.prevPage}}),a("q-btn",{attrs:{icon:"arrow_forward_ios",disabled:e.isLastPage,flat:"",dense:""},on:{click:e.nextPage}})],1)]}}])}),a("q-dialog",{model:{value:t.showDetails,callback:function(e){t.showDetails=e},expression:"showDetails"}},[a("div",{staticClass:"bg-blue-grey-14 q-pa-lg"},[a("h6",{staticClass:"text-white"},[t._v("Detalles de carga")]),a("div",{staticClass:"row q-mt-md"},[a("div",{staticClass:"column"},[a("div",{staticClass:"text-teal-3"},[t._v("Nombre")]),a("div",{staticClass:"text-teal-3"},[t._v("ID")]),a("div",{staticClass:"text-teal-3"},[t._v("Estado")])]),a("div",{staticClass:"column q-ml-lg"},[a("div",{staticClass:"text-white"},[t._v(t._s(t.popupData.name))]),a("div",{staticClass:"text-white"},[t._v(t._s(t.popupData.id))]),a("div",{staticClass:"text-white"},[t._v(t._s(t.popupData.status))])])])])])],1)},wt=[],qt={name:"CampaignList",data:function(){return{config:{},campaigns:[],columns:[{name:"number",required:!0,label:"N°",align:"center",field:function(t){return t.name}},{name:"name",required:!0,label:"NOMBRE",align:"center",field:function(t){return t.name}},{name:"id",required:!0,label:"ID",align:"center",field:function(t){return t.id}},{name:"status",required:!0,label:"ESTADO",align:"center",field:function(t){return t.status}},{name:"actions",required:!0,label:"ACCIONES",align:"center"}],popupData:{},showDetails:!1,pagination:{rowsPerPage:5,page:1}}},mounted:function(){var t=this;Et.$emit("updateTitle",{title:"Campañas"}),this.config={headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}},this.axios.post("".concat(f,"/campaigns"),{},this.config).then((function(e){e.data.status&&(t.campaigns=e.data.campaigns.map((function(t){return{id:t.campaign_id,name:t.campaign_name,status:"Y"==t.active}})))})),this.$q.screen.setSizes({sm:768})},methods:{onShowDetails:function(t){var e=this.campaigns.filter((function(e){return e.id==t}));e&&(this.popupData=e[0]),this.showDetails=!0},onChangeStatus:function(t,e){var a=this;e=e?"Y":"N",this.axios.post("".concat(f,"/update-campaign-status"),{campaign_id:t,status:e},this.config).then((function(t){t.data.status||a.$q.notify({position:"top",color:"negative",message:"Error al actualizar",timeout:2500,actions:[{icon:"close",color:"white"}]})}))}}},yt=qt,xt=(a("3186"),Object(l["a"])(yt,_t,wt,!1,null,"19652c5c",null)),kt=xt.exports,St=a("bc3a"),Dt=a.n(St);s["a"].use(m["a"]);var Nt=new m["a"]({mode:"history",routes:[{path:"/",name:"Login",component:_,meta:{title:"Login"}},{path:"/dashboard",component:pt,children:[{path:"/dashboard",name:"Dashboard",component:A,meta:{module:"Dashboard",title:"Dashboard"}},{path:"/charge",name:"ChargeList",component:Z,meta:{module:"ChargeList",title:"Cargas"}},{path:"/charge-form",name:"ChargeForm",component:rt,meta:{module:"ChargeList",title:"Subir lista"}},{path:"/lists",name:"List",component:T,meta:{module:"List",title:"Listas"}},{path:"/create-list",name:"ListForm",component:j,meta:{module:"List",title:"Crear lista"}},{path:"/remote-agents-list",name:"RemoteAgentsList",component:Ct,meta:{module:"RemoteAgentsList",title:"Lista de agentes"}},{path:"/campaign-list",name:"CampaignList",component:kt,meta:{module:"CampaignList",title:"Lista de campañas"}},{path:"/user-form",name:"UserForm",component:H,meta:{module:"UserForm",title:"Formulario de usuario"}}]},{path:"*",redirect:"/"}]});Nt.beforeEach((function(t,e,a){document.title=t.meta.title||"Rept";var s=!0;"Login"!=t.name&&(s="/"),Dt.a.post("".concat(f,"/validate"),{name:t.name,module:t.meta.module},{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((function(t){t.data.status?t.data.new_route?a({name:t.data.route_name}):a():a({path:s})})).catch((function(t){console.log(t),a({path:s})}))}));var At=Nt,$t=a("a7fe"),Lt=a.n($t);a.d(e,"bus",(function(){return Et})),s["a"].use(Lt.a,Dt.a);var Et=new s["a"];s["a"].config.productionTip=!1,new s["a"]({render:function(t){return t(u)},router:At}).$mount("#app")},"70b6":function(t,e,a){},"7b65":function(t,e,a){"use strict";var s=a("555d"),i=a.n(s);i.a},"85ec":function(t,e,a){},"971e":function(t,e,a){"use strict";var s=a("a570"),i=a.n(s);i.a},a4ac:function(t,e,a){},a4b9:function(t,e,a){},a570:function(t,e,a){},ba8e:function(t,e,a){"use strict";var s=a("243e"),i=a.n(s);i.a},c5a1:function(t,e,a){},dba0:function(t,e,a){},e982:function(t,e,a){"use strict";var s=a("dba0"),i=a.n(s);i.a},f446:function(t,e,a){}});
//# sourceMappingURL=app.100c94c1.js.map