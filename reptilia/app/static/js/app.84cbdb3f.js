(function(t){function e(e){for(var s,n,r=e[0],c=e[1],l=e[2],d=0,m=[];d<r.length;d++)n=r[d],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&m.push(i[n][0]),i[n]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(m.length)m.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],s=!0,r=1;r<a.length;r++){var c=a[r];0!==i[c]&&(s=!1)}s&&(o.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},i={app:0},o=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var s=a("85ec"),i=a.n(s);i.a},"0d83":function(t,e,a){},"2e0c":function(t,e,a){"use strict";var s=a("c1cb"),i=a.n(s);i.a},"4e01":function(t,e,a){"use strict";var s=a("70b6"),i=a.n(s);i.a},"4e95":function(t,e,a){"use strict";var s=a("f446"),i=a.n(s);i.a},"4ed5":function(t,e,a){"use strict";var s=a("a4b9"),i=a.n(s);i.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},o=[],n={name:"App",mounted:function(){this.$q.loadingBar.setDefaults({color:"teal"})}},r=n,c=(a("034f"),a("2877")),l=Object(c["a"])(r,i,o,!1,null,null,null),u=l.exports,d=(a("a4ac"),a("5c7d"),a("7d6e"),a("e54f"),a("573e"),a("35fc"),a("1867"),a("43b9"),a("b178"));s["a"].use(d["a"],{config:{}});a("b0c0");var m=a("8c4f"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"all-center"},[a("q-card",{staticClass:"q-py-lg q-px-xl column items-center own-card"},[a("h4",{staticClass:"q-mb-lg"},[t._v("Login")]),a("q-input",{ref:"user",staticClass:"q-mb-sm own-input",attrs:{label:"Email o usuario",outlined:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.enter(e)}},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"mail"}})]},proxy:!0}]),model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),a("q-input",{ref:"pass",staticClass:"q-mb-sm own-input",attrs:{type:"password",label:"Password",outlined:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.enter(e)}},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"vpn_key"}})]},proxy:!0}]),model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("q-select",{staticClass:"q-mb-lg own-input",attrs:{label:"Entidad",options:t.entities,filled:""},model:{value:t.entity,callback:function(e){t.entity=e},expression:"entity"}}),a("q-btn",{staticClass:"own-button",attrs:{color:"primary"},on:{click:t.login}},[t._v("Ingresar")])],1)],1)},f=[],h=(a("d81d"),"http://0.0.0.0:5000/api"),v={name:"Login",data:function(){return{username:"",password:"",entities:[],entity:""}},mounted:function(){var t=this;this.axios.post("".concat(h,"/entities")).then((function(e){e.data.status&&(t.entities=e.data.entities.map((function(t){return{label:t.name.toUpperCase(),value:t.prefix}})))}))},methods:{login:function(){var t=this;void 0!==this.entity.value?this.axios.post("".concat(h,"/login"),{username:this.username,password:this.password}).then((function(e){e.data.status?(localStorage.setItem("access_token",e.data.access_token),localStorage.setItem("entity_prefix",t.entity.value),t.$router.push({name:"Dashboard"})):(console.log("nope"),t.$q.notify({position:"top",color:"negative",message:"Usuario o contraseña incorrectos!",timeout:2e3}))})):this.$q.notify({position:"top",color:"warning",message:"Seleccione una entidad",timeout:2e3})},enter:function(){0==this.username.length?this.$refs.user.focus():0==this.password.length?this.$refs.pass.focus():this.login()}}},g=v,b=(a("4e95"),Object(c["a"])(g,p,f,!1,null,"5eb689f0",null)),q=b.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard"},[a("div",{staticClass:"q-mt-xl dashboard_indicators"},[a("q-circular-progress",{staticClass:"indicator text-white",attrs:{"show-value":"",value:t.calls,size:"100px",color:"secondary",thickness:.2,"center-color":"grey-10","track-color":"grey-3"}}),a("q-circular-progress",{staticClass:"indicator text-white",attrs:{"show-value":"",value:t.progress,size:"100px",color:"primary",thickness:.2,"center-color":"grey-10","track-color":"grey-3"}}),a("q-circular-progress",{staticClass:"indicator text-white",attrs:{"show-value":"",value:t.finished,size:"100px",color:"info",thickness:.2,"center-color":"grey-10","track-color":"grey-3"}})],1),a("div",{staticClass:"q-mt-xl dashboard_cards"},[a("q-card",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"column items-center q-pa-xl dashboard_card",on:{click:function(e){return t.$router.push({name:"CreateList"})}}},[a("q-icon",{staticClass:"q-mb-sm",attrs:{name:"format_list_bulleted",size:"xl"}}),a("span",[t._v("Crear Lista")])],1),a("q-card",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"column items-center q-pa-xl q-ml-lg dashboard_card",on:{click:function(e){return t.$router.push({name:"Updata"})}}},[a("q-icon",{staticClass:"q-mb-sm",attrs:{name:"cloud_upload",size:"xl"}}),a("span",[t._v("Subir data")])],1)],1)])},_=[],y={name:"Dashboard",data:function(){return{calls:70,progress:5,finished:65}},mounted:function(){var t=this;setInterval((function(){t.calls=t.calls+Math.round(10*Math.random()),t.progress=t.progress+Math.round(10*Math.random()),t.finished=t.finished+Math.round(10*Math.random())}),2e3)}},C=y,x=(a("4e01"),Object(c["a"])(C,w,_,!1,null,"ec6b7142",null)),k=x.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"all-center"},[a("q-card",{staticClass:"q-py-lg q-px-xl column items-center own-card"},[a("h4",{staticClass:"q-mb-lg"},[t._v("Crear Lista")]),a("q-input",{ref:"listid",staticClass:"own-input",attrs:{label:"Id *",type:"number",min:"0",rules:[function(t){return t>99||"Debe ser mayor o igual 100"},function(e){return!t.listIds.includes(e)||"El ID ya existe"}]},model:{value:t.id,callback:function(e){t.id=e},expression:"id"}}),a("q-input",{ref:"listname",staticClass:"own-input q-mb-lg",attrs:{label:"Nombre *",rules:[function(t){return t.length>1||"Al menos dos caracteres"}]},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("q-select",{ref:"listcampaign",staticClass:"own-input",attrs:{label:"Campaña *",options:t.campaigns,outlined:"",rules:[function(e){return void 0!=t.campaign.value||"Debe seleccionar uno"}]},model:{value:t.campaign,callback:function(e){t.campaign=e},expression:"campaign"}}),a("q-btn",{staticClass:"q-my-lg",attrs:{color:"primary"},on:{click:t.save}},[t._v("Crear")])],1)],1)},A=[],N=(a("caad"),a("2532"),{name:"CreateList",data:function(){return{id:"",name:"",campaigns:[],campaign:{},listIds:[],config:{}}},mounted:function(){var t=this;this.config={headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}},this.axios.post("".concat(h,"/campaigns"),{},this.config).then((function(e){e.data.status&&(t.campaigns=e.data.campaigns.map((function(t){return{label:t.campaign_name,value:t.campaign_id}})))})),this.axios.post("".concat(h,"/lists"),{},this.config).then((function(e){e.data.status&&(t.listIds=e.data.lists.map((function(t){return String(t.list_id)})))}))},methods:{validateSuccess:function(){return this.id>99&&!this.listIds.includes(this.id)&&void 0!=this.campaign.value},save:function(){var t=this;this.validateSuccess()?this.axios.post("".concat(h,"/create-list"),{list_id:this.id,list_name:this.name,campaign_id:this.campaign.value},this.config).then((function(e){e.data.status?(t.$q.notify({position:"top",color:"positive",message:"Se creó la lista!",timeout:2e3}),t.id="",t.name="",t.campaign={},setTimeout((function(){t.$refs.listid.resetValidation(),t.$refs.listname.resetValidation(),t.$refs.listcampaign.resetValidation()}),10)):t.$q.notify({position:"top",color:"negative",message:"Error! Verifique los datos",timeout:2500,actions:[{icon:"close",color:"white"}]})})):this.$q.notify({position:"top",color:"warning",message:"Complete los campos",timeout:2500,actions:[{icon:"close",color:"white"}]})}}}),$=N,j=(a("2e0c"),Object(c["a"])($,S,A,!1,null,"6c088526",null)),E=j.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"all-center"},[a("h3",{staticClass:"q-mb-lg"},[t._v("Cargar lista")]),a("q-card",{staticClass:"q-pa-xl column items-center"},[a("div",{staticClass:"row justify-around"},[a("q-select",{staticClass:"own-input",attrs:{color:"teal",label:"Lista *",options:t.lists,outlined:""},model:{value:t.list,callback:function(e){t.list=e},expression:"list"}}),a("q-select",{staticClass:"own-input",attrs:{color:"teal",label:"Proveedor *",options:t.carriers,outlined:""},model:{value:t.carrier,callback:function(e){t.carrier=e},expression:"carrier"}})],1),a("div",{staticClass:"row justify-around q-my-md"},[a("q-input",{staticClass:"own-input",attrs:{color:"teal",type:"number",label:"Número de iteraciones",min:"0",max:"10"},model:{value:t.iterations,callback:function(e){t.iterations=e},expression:"iterations"}}),a("q-input",{staticClass:"own-input",attrs:{color:"teal",type:"number",label:"Volver a llamar en...",min:"60",max:"10000"},model:{value:t.seconds,callback:function(e){t.seconds=e},expression:"seconds"}})],1),a("div",{staticClass:"row justify-around items-center q-my-sm"},[a("q-uploader",{ref:"uploader",attrs:{label:"Subir archivo","field-name":"file",color:"black",accept:".xlsx","hide-upload-btn":"",url:""}}),a("q-btn",{staticClass:"q-ml-lg",attrs:{icon:"view_column","text-color":"green-8",color:"white",rounded:""},on:{click:function(e){t.dialogStatus=!0}}},[t._v("Formato")]),a("q-dialog",{model:{value:t.dialogStatus,callback:function(e){t.dialogStatus=e},expression:"dialogStatus"}},[a("SheetExcel")],1),a("q-dialog",{model:{value:t.report.show,callback:function(e){t.$set(t.report,"show",e)},expression:"report.show"}},[a("div",{staticClass:"up__report q-pa-lg bg-white"},[a("div",{staticClass:"column"},[a("div",{staticClass:"row"},[a("span",{staticClass:"text-weight-medium"},[t._v("Número de procesos pseudo paralelos:")]),a("span",{staticClass:"q-ml-sm"},[t._v(t._s(t.report.process))])]),a("div",{staticClass:"row"},[a("span",{staticClass:"text-weight-medium"},[t._v("Tiempo de carga:")]),a("span",{staticClass:"q-ml-sm"},[t._v(t._s(t.report.time))])]),a("div",{staticClass:"row"},[a("span",{staticClass:"text-weight-medium"},[t._v("Mensaje:")]),a("span",{staticClass:"q-ml-sm"},[t._v(t._s(t.report.msg))])]),a("div",{staticClass:"row"},[a("span",{staticClass:"text-weight-medium"},[t._v("Clientes insertados:")]),a("span",{staticClass:"q-ml-sm"},[t._v(t._s(t.report.clients))])]),a("div",{staticClass:"row"},[a("span",{staticClass:"text-weight-medium"},[t._v("Productos insertados:")]),a("span",{staticClass:"q-ml-sm"},[t._v(t._s(t.report.products))])]),a("div",{staticClass:"row"},[a("span",{staticClass:"text-weight-medium"},[t._v("Registros duplicados:")]),a("span",{staticClass:"q-ml-sm"},[t._v(t._s(t.report.duplicates))])]),a("div",{staticClass:"row"},[a("span",{staticClass:"text-weight-medium"},[t._v("Registros sin codigo o producto:")]),a("span",{staticClass:"q-ml-sm"},[t._v(t._s(t.report.out))])])])])])],1),a("div",{staticClass:"row"},[a("q-btn",{staticClass:"q-mt-lg",attrs:{color:"teal-7",size:"18px",loading:t.loading},on:{click:t.upload}},[t._v("Subir")]),t.isReport?a("q-btn",{staticClass:"q-mt-lg q-ml-lg",attrs:{color:"green-7"},on:{click:function(e){t.report.show=!0}}},[t._v("Mostrar reporte")]):t._e()],1)])],1)},O=[],D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sheeet_excel q-pa-lg bg-white"},[a("q-table",{attrs:{data:t.data,columns:t.columns,separator:"cell","row-key":"nombre","hide-bottom":""},scopedSlots:t._u([{key:"top",fn:function(){return[a("div",{staticClass:"column"},[a("h5",{staticClass:"text-white"},[t._v("Hoja de Excel")]),a("div",{staticClass:"text-white"},[t._v("El nombre de las COLUMNAS deben estar tal cual el ejemplo, todos en minúscula.")])])]},proxy:!0}])})],1)},I=[],F={name:"SheetExcel",data:function(){return{columns:[{name:"numero",label:"1",field:"number",align:"center"},{name:"codigo",label:"codigo",field:"code",align:"center"},{name:"nombre",label:"nombre",field:"name",align:"center"},{name:"producto",label:"producto",field:"product",align:"center"},{name:"monto",label:"monto",field:"amount",align:"center"},{name:"moneda",label:"moneda",field:"currency",align:"center"},{name:"fecha",label:"fecha",field:"date",align:"center"},{name:"fono1",label:"fono1",field:"phone1",align:"center"},{name:"fono2",label:"fono2",field:"phone2",align:"center"},{name:"...",label:"...",field:"etc",align:"center"}],data:[{number:2,code:114211,name:"Raul Sánchez",product:"Tarjeta de crédito",amount:"500.00",date:"12-10-2019",currency:"soles",phone1:"961525225",phone2:"963666332",etc:"..."},{number:3,code:200015,name:"Jorge Barreto",product:"Tarjeta de crédito",amount:"700.50",date:"10-10-2019",currency:"pen",phone1:"951252226",phone2:"985554112",etc:"..."},{number:4,code:456015,name:"Arturo Castillo",product:"Tarjeta de crédito",amount:"320.70",date:"05-10-2019",currency:"usd",phone1:"962555225",phone2:"985858558",etc:"..."}]}},mounted:function(){},methods:{}},L=F,z=(a("6da3"),Object(c["a"])(L,D,I,!1,null,"367f1044",null)),R=z.exports,M={name:"Updata",data:function(){return{msg:"",isError:!1,iterations:0,seconds:0,loading:!1,lists:[],carriers:[],carrier:"",list:"",dialogStatus:!1,config:"",dbName:"",report:{msg:"NA",time:"NA",clients:"NA",products:"NA",duplicates:"NA",outs:"NA",out:"NA",process:"NA",show:!1},isReport:!1}},mounted:function(){var t=this;this.config={headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}},this.dbName=localStorage.getItem("entity_prefix"),this.axios.post("".concat(h,"/lists"),{},this.config).then((function(e){e.data.status&&(t.lists=e.data.lists.map((function(t){return{label:t.list_name,value:t.list_id}})))})),this.axios.post("".concat(h,"/carriers"),{entity_prefix:this.dbName},this.config).then((function(e){e.data.status&&(t.carriers=e.data.carriers.map((function(t){return{label:t.name,value:t.id}})))}))},methods:{validateSuccess:function(){var t="";if(0==this.$refs.uploader.files.length)t="Seleccione un archivo";else if(void 0==this.list.value)t="Seleccione una lista";else if(void 0==this.carrier.value)t="Seleccione un proveedor";else if(this.iterations<0||this.iterations>10)t="Corrija el campo de iteraciones";else if(this.seconds<60||this.seconds>1e4)t="Corrija el campo de horas";else{if(this.dbName)return{status:!0};t="Problemas internos. Intente más tarde."}return{status:!1,msg:t}},upload:function(){var t=this;this.isReport=!1,this.loading=!0,this.report.msg="NA",this.report.time="NA",this.report.clients="NA",this.report.products="NA",this.report.duplicates="NA",this.report.out="NA",this.report.process="NA",this.report.show=!1;var e=this.validateSuccess();if(e.status){var a=this.$refs.uploader.files[0],s=new FormData;s.append("file",a),s.set("iterations",this.iterations),s.set("seconds",this.seconds),s.set("list_id",this.list.value),s.set("carrier_id",this.carrier.value),s.set("entity_prefix",this.dbName),this.axios.post("".concat(h,"/carga"),s,{headers:{Authorization:"Bearer "+localStorage.getItem("access_token"),"Content-Type":"multipart/form-data"}}).then((function(e){e.data.status?(t.isError=!1,t.iterations="",t.seconds="",t.carrier="",t.list="",t.$refs.uploader.reset(),t.$q.notify({position:"top",color:"positive",message:"Se creó la lista!",timeout:2e3})):t.$q.notify({position:"top",color:"negative",message:"Error! Verifique los datos",timeout:2500,actions:[{icon:"close",color:"white"}]}),t.report.time=void 0!=e.data.time?e.data.time:"NA",t.report.clients=void 0!=e.data.count_clients?e.data.count_clients:"NA",t.report.products=void 0!=e.data.count_products?e.data.count_products:"NA",t.report.duplicates=void 0!=e.data.count_duplicates?e.data.count_duplicates:"NA",t.report.out=void 0!=e.data.count_out?e.data.count_out:"NA",t.report.msg=void 0!=e.data.msg?e.data.msg:"NA",t.report.process=void 0!=e.data.process?e.data.process:"NA",t.isReport=!0})).then((function(){t.loading=!1,t.isReport=!0})).catch((function(){t.loading=!1,t.isReport=!0}))}else this.loading=!1,this.$q.notify({position:"top",color:"warning",message:void 0!=e.msg?e.msg:"Complete los campos",timeout:2500,actions:[{icon:"close",color:"white"}]})}},components:{SheetExcel:R}},P=M,T=(a("d7ab"),Object(c["a"])(P,U,O,!1,null,"9922ba18",null)),B=T.exports,V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user-form-container q-pa-lg"},[a("h5",{staticClass:"q-mb-lg"},[t._v("Administrar usuarios")]),a("q-btn",{attrs:{color:"primary",icon:"add",round:""},on:{click:function(e){t.isNew=!0}}}),a("div",{staticClass:"user-list q-mt-lg"},[a("q-table",{attrs:{data:t.data,columns:t.columns,"row-key":"user",grid:t.$q.screen.lt.sm},scopedSlots:t._u([{key:"top-row",fn:function(e){return[t.isNew?a("q-tr",[a("q-td",{key:"number"},[t._v("#")]),a("q-td",{key:"user"},[a("q-input",{staticClass:"user-form-item",attrs:{label:"Usuario"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),a("q-td",{key:"password"},[a("q-input",{staticClass:"user-form-item",attrs:{type:"password",label:"Contraseña"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("q-td",{key:"role"},[a("q-select",{staticClass:"q-mt-sm user-form-item",attrs:{label:"Rol",options:t.roles},model:{value:t.rol,callback:function(e){t.rol=e},expression:"rol"}})],1),a("q-td",{key:"actions"},[a("q-btn",{attrs:{icon:"save",color:"primary",round:""},on:{click:t.actionUser}}),a("q-btn",{staticClass:"q-ml-lg",attrs:{icon:"cancel",color:"negative",round:""},on:{click:function(e){t.isNew=!1}}})],1)],1):t._e()]}},{key:"body",fn:function(e){return[a("q-tr",[a("q-td",{key:"number",attrs:{"auto-width":""}},[t.isEditing[e.row.id]?a("div",[t._v("Hola")]):a("div",[t._v(t._s(e.row.number))])]),a("q-td",{key:"user",staticClass:"text-center"},[t._v(t._s(e.row.user))]),a("q-td",{key:"password",staticClass:"text-center"},[t._v("*******")]),a("q-td",{key:"role",staticClass:"text-center"},[t._v(t._s(e.row.role))]),a("q-td",{key:"actions",attrs:{"auto-width":""}},[a("q-btn",{attrs:{icon:"edit",color:"teal",round:""},on:{click:function(a){return t.actionEdit(e.row.id)}}}),a("q-btn",{staticClass:"q-ml-lg",attrs:{icon:"delete",color:"negative",round:""}})],1)],1)]}},{key:"item",fn:function(e){return[t.isNew?a("q-card",{staticClass:"q-ml-lg q-mb-lg col-xs-12 col-sm-5 q-pa-xs"},[t._l(e.cols.filter((function(t){return"actions"!=t.name&&"number"!=t.name})),(function(t){return a("q-item",{key:t.name,staticClass:"column"},[a("q-input",{attrs:{label:t.label}})],1)})),a("q-item",{staticClass:"row justify-center"},[a("q-btn",{attrs:{icon:"save",color:"primary",round:""},on:{click:t.actionUser}}),a("q-btn",{staticClass:"q-ml-lg",attrs:{icon:"cancel",color:"negative",round:""},on:{click:function(e){t.isNew=!1}}})],1)],2):t._e(),a("q-card",{staticClass:"q-ml-lg q-mb-lg col-xs-12 col-sm-5 q-pa-sm"},[t._l(e.cols.filter((function(t){return"actions"!=t.name})),(function(e){return a("q-item",{key:e.name},[a("q-item-section",[a("q-item-label",[t._v(t._s(e.label))])],1),a("q-item-section",{attrs:{side:""}},[a("q-item-label",[t._v(t._s("password"!=e.name?e.value:"***"))])],1)],1)})),a("q-item",{staticClass:"row justify-center"},[a("q-btn",{attrs:{icon:"edit",color:"teal",round:""},on:{click:function(a){return t.actionEdit(e.row.id)}}}),a("q-btn",{staticClass:"q-ml-lg",attrs:{icon:"delete",color:"negative",round:""}})],1)],2)]}}])})],1)],1)},J=[],H={name:"UserForm",data:function(){return{submitText:"Agregar",rol:"",roles:[],columns:[{name:"number",label:"N°",field:"number",align:"center"},{name:"usuario",label:"Usuario",field:"user",align:"center"},{name:"password",label:"Password",field:"password",align:"center"},{name:"role",label:"Rol",field:"role",align:"center"},{name:"actions",label:"Acciones",field:"actions",align:"center"}],data:[],config:"",isEditing:{},isNew:!1,username:"",password:"",raw_data_users:[]}},mounted:function(){var t=this;this.config={headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}},this.axios.post("".concat(h,"/roles"),{},this.config).then((function(e){e.data.status&&(t.roles=e.data.roles.map((function(t){return{label:t.role.toUpperCase(),value:t.id}})))})),this.refreshUsers(),this.$q.screen.setSizes({sm:768})},methods:{refreshUsers:function(){var t=this;this.axios.post("".concat(h,"/users"),{},this.config).then((function(e){e.data.status&&(t.raw_data_users=e.data.users,t.data=e.data.users.map((function(t,e){return{id:t.id,number:e+1,user:t.username,password:t.password,role:t.role.toUpperCase()}})))}))},actionUser:function(){var t=this;this.isEditing||this.axios.post("".concat(h,"/register"),{username:this.username,password:this.password,role_id:this.rol.value},this.config).then((function(e){e.data.status?(t.refreshUsers(),t.$q.notify({position:"top",color:"positive",message:"Usuario agregado",timeout:2e3}),t.username="",t.password="",t.rol="",t.isNew=!1):t.$q.notify({position:"top",color:"negative",message:"Corrija el formulario",timeout:2e3})}))},actionEdit:function(t){this.$set(this.isEditing,t,!0)}}},G=H,K=(a("e982"),Object(c["a"])(G,V,J,!1,null,"f0bab54a",null)),Q=K.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-layout",[a("q-header",{attrs:{elevated:""}},[a("q-toolbar",{staticClass:"bg-grey-9 text-white q-py-sm"},[a("q-btn",{attrs:{color:"white",icon:"menu",round:"",dense:"",flat:""},on:{click:function(e){t.drawer=!t.drawer}}}),a("q-space"),a("q-btn",{attrs:{color:"white","text-color":"grey-10",icon:"person",round:""}},[a("q-menu",[a("q-list",[a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""}},[a("q-item-section",{on:{click:t.logout}},[t._v("Cerrar Sesión")])],1)],1)],1)],1)],1)],1),a("q-drawer",{attrs:{width:200,breakpoint:1040,mini:t.miniDrawState,elevated:"","show-if-above":""},on:{mouseover:function(e){t.miniDrawState=!1},mouseout:function(e){t.miniDrawState=!0}},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("q-scroll-area",{staticClass:"fit"},[a("q-list",{attrs:{padding:""}},[a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",active:t.dashActive},on:{click:function(e){return t.route("Dashboard")}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"dashboard"}})],1),a("q-item-section",[t._v("Dashboard")])],1),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",active:t.userFormActive},on:{click:function(e){return t.route("UserForm")}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"supervised_user_circle"}})],1),a("q-item-section",[t._v("Administrar")])],1)],1)],1)],1),a("q-page-container",[a("q-page",{attrs:{padding:""}},[a("router-view")],1)],1)],1)},X=[],Y={name:"DashboardLayout",data:function(){return{drawer:!1,config:"",miniDrawState:!0,dashActive:!0,userFormActive:!1}},mounted:function(){"Dashboard"==this.$router.currentRoute.name?this.dashActive=!0:"UserForm"==this.$router.currentRoute.name&&(this.userFormActive=!0,this.dashActive=!1),this.config={headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}}},methods:{logout:function(){var t=this;this.axios.post("".concat(h,"/logout"),{},this.config).then((function(e){e.data.status&&t.$q.notify({position:"top",color:"blue-grey-7",message:"Se cerró la sesión",timeout:2e3})})),localStorage.removeItem("access_token"),this.$router.push({name:"Login"})},route:function(t){("Dashboard"!=t&&this.dashActive||"UserForm"!=t&&this.userFormActive)&&("Dashboard"==t?(this.dashActive=!0,this.userFormActive=!1):"UserForm"==t&&(this.dashActive=!1,this.userFormActive=!0),this.$router.push({name:t}))}}},Z=Y,tt=(a("4ed5"),Object(c["a"])(Z,W,X,!1,null,"44af454a",null)),et=tt.exports,at=a("bc3a"),st=a.n(at);s["a"].use(m["a"]);var it=new m["a"]({mode:"history",routes:[{path:"/",name:"Login",component:q,meta:{title:"Login"}},{path:"/dashboard",component:et,children:[{path:"/dashboard",name:"Dashboard",component:k,meta:{title:"Dashboard"}},{path:"/user-form",name:"UserForm",component:Q,meta:{title:"Formulario de usuario"}}]},{path:"/create-list",name:"CreateList",component:E,meta:{title:"Crear lista"}},{path:"/updata",name:"Updata",component:B,meta:{title:"Subir lista"}},{path:"*",redirect:"/"}]});it.beforeEach((function(t,e,a){document.title=t.meta.title||"Rept";var s=!0;"Login"!=t.name&&(s="/login"),st.a.post("".concat(h,"/validate"),{},{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((function(e){e.data.status&&("Login"!=t.name?a():(document.title="Dashboard",a("/dashboard")))})).catch((function(){a(s)}))}));var ot=it,nt=a("a7fe"),rt=a.n(nt);s["a"].use(rt.a,st.a),s["a"].config.productionTip=!1,new s["a"]({render:function(t){return t(u)},router:ot}).$mount("#app")},"6da3":function(t,e,a){"use strict";var s=a("0d83"),i=a.n(s);i.a},"70b6":function(t,e,a){},"85ec":function(t,e,a){},8607:function(t,e,a){},a4ac:function(t,e,a){},a4b9:function(t,e,a){},c1cb:function(t,e,a){},d7ab:function(t,e,a){"use strict";var s=a("8607"),i=a.n(s);i.a},dba0:function(t,e,a){},e982:function(t,e,a){"use strict";var s=a("dba0"),i=a.n(s);i.a},f446:function(t,e,a){}});
//# sourceMappingURL=app.84cbdb3f.js.map